(this.webpackJsonpapp1=this.webpackJsonpapp1||[]).push([[0],{128:function(t,e,n){},129:function(t,e,n){},426:function(t,e,n){"use strict";n.r(e);var i=n(1),r=n(8),a=n.n(r),c=n(16),s=n.n(c),l=(n(128),n(39)),u=n(40),h=n(42),o=n(41),d=(n(129),n(130),[{id:1,short:"Ar",job:"Archer",hp:20,atk:3,def:3,move:3,range:5},{id:2,short:"Br",job:"Bruiser",hp:30,atk:2,def:6,move:2,range:1},{id:3,short:"Me",job:"Medic",hp:20,atk:3,def:2,move:4,range:1},{id:4,short:"Lu",job:"Lumberjack",hp:20,atk:3,def:3,move:3,range:5},{id:5,short:"Sp",job:"Spearman",hp:30,atk:5,def:2,move:2,range:1},{id:6,short:"Sl",job:"Sling",hp:20,atk:3,def:3,move:4,range:4},{id:7,short:"Be",job:"Beastmaster",hp:25,atk:3,def:3,move:3,range:2}]),j={id:8,short:"E",job:"Enemy",hp:20,atk:3,def:3,move:3,range:5},b={id:9,short:"#"},v={id:10,short:"."},p=[0,1,2,3,4,5],f=function(t){Object(h.a)(n,t);var e=Object(o.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t="",e=!1,n=!1;null!=this.props.value.unit&&(t=this.props.value.unit.short,e=!0,n=10===this.props.value.unit.id);var r="cell"+(this.props.value.isSelected?" is-selected":"")+(e?" has-unit":"")+(n?" has-marker":"");return Object(i.jsx)("div",{className:r,onClick:this.props.onClick,onContextMenu:this.props.cMenu,children:t})}}]),n}(a.a.Component);function S(t){try{return Object(i.jsx)("button",{onClick:t.onClick,className:"unit-button",children:t.value.short})}catch(e){return null}}var O=function(t){Object(h.a)(n,t);var e=Object(o.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).state={boardData:i.createEmptyArray(i.props.height,i.props.width),boardHistory:[],unitSelect:null,cellSelect:null,unitArray:[0,0,0,0,0,0,0],phase:0},i}return Object(u.a)(n,[{key:"createEmptyArray",value:function(t,e){for(var n=[],i=0;i<t;i++){n.push([]);for(var r=0;r<e;r++)n[i][r]={x:i,y:r,cellNumber:100*i+r,unit:null,isSelected:!1}}return n}},{key:"selectUnit",value:function(t){console.log(t),this.unitSelect!==t?this.setState({unitSelect:t}):this.unitSelect.id===t.id&&this.setState({unitSelect:null})}},{key:"_handleCellClick",value:function(t,e){var n=this.state.boardData,i=null!=n[t][e].unit,r=null!=this.state.unitSelect,a=this.state.cellSelect===n[t][e].cellNumber||null===this.state.cellSelect,c=this.state.unitArray;switch(this.state.phase){case 0:if(i&&a)!1===n[t][e].isSelected?(n[t][e].isSelected=!0,this.setState({boardData:n,cellSelect:n[t][e].cellNumber,unitSelect:n[t][e].unit})):(n[t][e].isSelected=!1,this.setState({boardData:n,cellSelect:null,unitSelect:null}));else if(a||i){if(!r)return;(0===c[this.state.unitSelect.id-1]||this.state.unitSelect.id>7)&&(n[t][e].unit=this.state.unitSelect,this.state.unitSelect.id<8&&(c[this.state.unitSelect.id-1]+=1),this.setState({boardData:n,unitSelect:null,unitArray:c}))}else{var s=this.state.cellSelect%100,l=(this.state.cellSelect-s)/100;console.log(l,s),n[t][e].unit=this.state.unitSelect,n[l][s].unit=null,n[l][s].isSelected=!1,this.setState({boardData:n,unitSelect:null,cellSelect:null})}break;case 1:if(i&&a)!1===n[t][e].isSelected?(n[t][e].isSelected=!0,this.setState({boardData:n,cellSelect:n[t][e].cellNumber,unitSelect:n[t][e].unit})):(n[t][e].isSelected=!1,this.setState({boardData:n,cellSelect:null,unitSelect:null}));else if(!a&&!i){var u=this.state.cellSelect%100,h=(this.state.cellSelect-u)/100;console.log(h,u),n[t][e].unit=this.state.unitSelect,n[h][u].unit=null,n[h][u].isSelected=!1,this.setState({boardData:n,unitSelect:null,cellSelect:null})}break;case 2:break;default:return}}},{key:"_handleContextMenu",value:function(t,e,n){t.preventDefault();var i=this.state.boardData,r=this.state.unitArray,a=null!=i[e][n].unit,c=this.state.cellSelect===i[e][n].cellNumber;switch(this.state.phase){case 0:if(c)return;a&&(r[i[e][n].unit.id-1]-=1,i[e][n].unit=null,this.setState({boardData:i,unitArray:r}));break;case 1:case 2:break;default:return}}},{key:"_next",value:function(){var t=this.state.phase;t<2&&(t+=1),this.setState({phase:t})}},{key:"_reset",value:function(){this.setState({boardData:this.createEmptyArray(this.props.height,this.props.width),boardHistory:[],unitSelect:null,cellSelect:null,unitArray:[0,0,0,0,0,0],phase:0})}},{key:"renderPhase",value:function(){var t;switch(this.state.phase){case 0:t="Preparation";break;case 1:t="Combat";break;case 2:t="Post";break;default:return}return Object(i.jsxs)("div",{children:[t," Phase"]})}},{key:"renderUnitButtons",value:function(){var t=this;return this.props.char.map((function(e){return Object(i.jsx)("span",{children:Object(i.jsx)(S,{value:e,onClick:function(){return t.selectUnit(e)}})},e.job)}))}},{key:"renderBoard",value:function(t){var e=this;return t.map((function(t){return t.map((function(n){return Object(i.jsxs)("div",{children:[Object(i.jsx)(f,{onClick:function(){return e._handleCellClick(n.x,n.y)},cMenu:function(t){return e._handleContextMenu(t,n.x,n.y)},value:n}),t[t.length-1]===n?Object(i.jsx)("div",{className:"clear"}):""]},n.x*t.length+n.y)}))}))}},{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:"units",children:this.renderUnitButtons(this.state.unitArray)}),Object(i.jsx)("div",{id:"board",children:this.renderBoard(this.state.boardData)}),Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{children:"undo"}),Object(i.jsx)("button",{onClick:function(){return t._reset()},children:"reset"})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)(S,{value:j,onClick:function(){return t.selectUnit(j)}}),Object(i.jsx)(S,{value:b,onClick:function(){return t.selectUnit(b)}}),Object(i.jsx)(S,{value:v,onClick:function(){return t.selectUnit(v)}})]})]})}}]),n}(a.a.Component),x=function(t){Object(h.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(l.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={deck:m(p)},t}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsx)("div",{})}}]),n}(a.a.Component);function k(t){return Object(i.jsxs)("table",{children:[Object(i.jsx)("thead",{children:Object(i.jsx)("tr",{children:t.char.map((function(t){return Object(i.jsx)("th",{children:t.job},t.id)}))})}),Object(i.jsxs)("tbody",{children:[Object(i.jsx)("tr",{children:t.char.map((function(t){return Object(i.jsx)("td",{children:Object(i.jsxs)("div",{children:["HP: ",t.hp]})},10*t.id+1)}))}),Object(i.jsx)("tr",{children:t.char.map((function(t){return Object(i.jsx)("td",{className:"stat",children:Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:["ATK: ",t.atk]},10*t.id+4),Object(i.jsxs)("li",{children:["DEF: ",t.def]},10*t.id+5),Object(i.jsxs)("li",{children:["MOV: ",t.move]},10*t.id+6),Object(i.jsxs)("li",{children:["RNG: ",t.range]},10*t.id+7)]},10*t.id+3)},10*t.id+2)}))})]})]})}function m(t){for(var e,n,i=t.length;0!==i;)n=Math.floor(Math.random()*i),e=t[i-=1],t[i]=t[n],t[n]=e;return t}var y=function(t){Object(h.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(l.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={height:25,width:30,char:d},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.height,n=t.width;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{id:"status",children:[Object(i.jsx)("p",{children:"Status"}),Object(i.jsx)(k,{char:this.state.char})]}),Object(i.jsxs)("div",{id:"deck",children:[Object(i.jsx)("p",{children:"Travel"}),Object(i.jsx)(x,{}),Object(i.jsx)("img",{src:"./assets/archer.PNG",alt:"placeholder(cards)"})]}),Object(i.jsxs)("div",{id:"combat",children:[Object(i.jsx)("p",{children:"Combat"}),Object(i.jsx)(O,{height:e,width:n,char:d})]})]})}}]),n}(a.a.Component),g=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,427)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),i(t),r(t),a(t),c(t)}))};s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(y,{})}),document.getElementById("root")),g()}},[[426,1,2]]]);
//# sourceMappingURL=main.74116675.chunk.js.map