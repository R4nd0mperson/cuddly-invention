(this.webpackJsonpapp1=this.webpackJsonpapp1||[]).push([[0],{128:function(t,e,n){},129:function(t,e,n){},426:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n(10),r=n.n(a),s=n(16),c=n.n(s),l=(n(128),n(49)),u=n(50),h=n(53),d=n(52),o=(n(129),n(130),[{id:1,short:"Ar",job:"Archer",hp:20,atk:3,def:3,move:3,range:5},{id:2,short:"Br",job:"Bruiser",hp:30,atk:2,def:6,move:2,range:1},{id:3,short:"Me",job:"Medic",hp:20,atk:3,def:2,move:4,range:1},{id:4,short:"Lu",job:"Lumberjack",hp:20,atk:3,def:3,move:3,range:5},{id:5,short:"Sp",job:"Spearman",hp:30,atk:5,def:2,move:2,range:1},{id:6,short:"Sl",job:"Sling",hp:20,atk:3,def:3,move:4,range:4},{id:7,short:"Be",job:"Beastmaster",hp:25,atk:3,def:3,move:3,range:2}]),j=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t="",e=!1;null!=this.props.value.unit&&(t=this.props.value.unit.short,e=!0);var n="cell"+(this.props.value.isSelected?" is-selected":"")+(e?" has-unit":"");return Object(i.jsx)("div",{className:n,onClick:this.props.onClick,onContextMenu:this.props.cMenu,children:t})}}]),n}(r.a.Component);function b(t){try{return Object(i.jsx)("button",{onClick:t.onClick,className:"unit-button",children:t.value.short})}catch(e){return null}}var p=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(t){var i;return Object(l.a)(this,n),(i=e.call(this,t)).state={boardData:i.createEmptyArray(i.props.height,i.props.width),boardHistory:[],unitSelect:null,cellSelect:null,unitArray:[0,0,0,0,0,0,0],phase:0},i}return Object(u.a)(n,[{key:"createEmptyArray",value:function(t,e){for(var n=[],i=0;i<t;i++){n.push([]);for(var a=0;a<e;a++)n[i][a]={x:i,y:a,cellNumber:100*i+a,unit:null,isSelected:!1}}return n}},{key:"selectUnit",value:function(t){null==this.unitSelect?this.setState({unitSelect:t}):this.unitSelect===t&&this.setState({unitSelect:null})}},{key:"_handleCellClick",value:function(t,e){var n=this.state.boardData,i=null!=n[t][e].unit,a=null!=this.state.unitSelect,r=this.state.cellSelect===n[t][e].cellNumber||null===this.state.cellSelect,s=this.state.unitArray;switch(this.state.phase){case 0:if(i&&r)!1===n[t][e].isSelected?(n[t][e].isSelected=!0,this.setState({boardData:n,cellSelect:n[t][e].cellNumber,unitSelect:n[t][e].unit})):(n[t][e].isSelected=!1,this.setState({boardData:n,cellSelect:null,unitSelect:null}));else if(r||i){if(!a)return;0===s[this.state.unitSelect.id-1]&&(n[t][e].unit=this.state.unitSelect,s[this.state.unitSelect.id-1]+=1,this.setState({boardData:n,unitSelect:null,unitArray:s}))}else{var c=this.state.cellSelect%100,l=(this.state.cellSelect-c)/100;console.log(l,c),n[t][e].unit=this.state.unitSelect,n[l][c].unit=null,n[l][c].isSelected=!1,this.setState({boardData:n,unitSelect:null,cellSelect:null})}break;case 1:if(i&&r)!1===n[t][e].isSelected?(n[t][e].isSelected=!0,this.setState({boardData:n,cellSelect:n[t][e].cellNumber,unitSelect:n[t][e].unit})):(n[t][e].isSelected=!1,this.setState({boardData:n,cellSelect:null,unitSelect:null}));else if(!r&&!i){var u=this.state.cellSelect%100,h=(this.state.cellSelect-u)/100;console.log(h,u),n[t][e].unit=this.state.unitSelect,n[h][u].unit=null,n[h][u].isSelected=!1,this.setState({boardData:n,unitSelect:null,cellSelect:null})}break;case 2:break;default:return}}},{key:"_handleContextMenu",value:function(t,e,n){t.preventDefault();var i=this.state.boardData,a=this.state.unitArray,r=null!=i[e][n].unit;switch(this.state.phase){case 0:r&&(a[i[e][n].unit.id-1]-=1,i[e][n].unit=null,this.setState({boardData:i,unitArray:a}));break;case 1:case 2:break;default:return}}},{key:"_next",value:function(){var t=this.state.phase;t<2&&(t+=1),this.setState({phase:t})}},{key:"_reset",value:function(){this.setState({boardData:this.createEmptyArray(this.props.height,this.props.width),boardHistory:[],unitSelect:null,cellSelect:null,unitArray:[0,0,0,0,0,0],phase:0})}},{key:"renderPhase",value:function(){var t;switch(this.state.phase){case 0:t="Preparation";break;case 1:t="Combat";break;case 2:t="Post";break;default:return}return Object(i.jsxs)("div",{children:[t," Phase"]})}},{key:"renderUnitButtons",value:function(){var t=this;return this.props.char.map((function(e){return Object(i.jsx)("span",{children:Object(i.jsx)(b,{value:e,onClick:function(){return t.selectUnit(e)}})},e.job)}))}},{key:"renderBoard",value:function(t){var e=this;return t.map((function(t){return t.map((function(n){return Object(i.jsxs)("div",{children:[Object(i.jsx)(j,{onClick:function(){return e._handleCellClick(n.x,n.y)},cMenu:function(t){return e._handleContextMenu(t,n.x,n.y)},value:n}),t[t.length-1]===n?Object(i.jsx)("div",{className:"clear"}):""]},n.x*t.length+n.y)}))}))}},{key:"render",value:function(){var t=this;return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{id:"units",children:this.renderUnitButtons(this.state.unitArray)}),Object(i.jsx)("div",{id:"board",children:this.renderBoard(this.state.boardData)}),Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{children:"undo"}),Object(i.jsx)("button",{onClick:function(){return t._reset()},children:"reset"})]}),Object(i.jsx)("div",{})]})}}]),n}(r.a.Component);function v(t){return Object(i.jsxs)("table",{children:[Object(i.jsx)("thead",{children:Object(i.jsx)("tr",{children:t.char.map((function(t){return Object(i.jsx)("th",{children:t.job},t.id)}))})}),Object(i.jsxs)("tbody",{children:[Object(i.jsx)("tr",{children:t.char.map((function(t){return Object(i.jsxs)("td",{children:["HP: ",t.hp]},10*t.id+1)}))}),Object(i.jsx)("tr",{children:t.char.map((function(t){return Object(i.jsx)("td",{className:"stat",children:Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:["ATK: ",t.atk]},10*t.id+4),Object(i.jsxs)("li",{children:["DEF: ",t.def]},10*t.id+5),Object(i.jsxs)("li",{children:["MOV: ",t.move]},10*t.id+6),Object(i.jsxs)("li",{children:["RNG: ",t.range]},10*t.id+7)]},10*t.id+3)},10*t.id+2)}))})]})]})}var S=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(l.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={height:25,width:30,char:o},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.height,n=t.width;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{id:"status",children:[Object(i.jsx)("p",{children:"Status"}),Object(i.jsx)(v,{char:this.state.char})]}),Object(i.jsxs)("div",{id:"deck",children:[Object(i.jsx)("p",{children:"Travel"}),Object(i.jsx)("img",{src:"./assets/archer.PNG",alt:"placeholder(cards)"})]}),Object(i.jsxs)("div",{id:"combat",children:[Object(i.jsx)("p",{children:"Combat"}),Object(i.jsx)(p,{height:e,width:n,char:o})]})]})}}]),n}(r.a.Component),f=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,427)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),i(t),a(t),r(t),s(t)}))};c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(S,{})}),document.getElementById("root")),f()}},[[426,1,2]]]);
//# sourceMappingURL=main.2df9136b.chunk.js.map